<!DOCTYPE html>
<html>
<head>
    <title>Admin Panel</title>
    <link rel="stylesheet" type="text/css" href="src/css/water.css" media="screen">
</head>
<body>
    <header>
        <h1>Admin Panel</h1>
    </header>
    
    <nav>
        <ul>
            <li><a id= "dashboard-link" href="#dashboard">Dashboard</a></li>
            <li><a id="verwalten-link" href="#verwalten">Benutzer verwalten</a></li>
            <li><a id= "einstellungen-link" href="#einstellungen">Einstellungen</a></li>
        </ul>
    </nav>
    
    <main>
        <h2>Dashboard</h2>
        <p>Willkommen im Admin Panel.</p>
        <table id="table-container"></table>
    </main>
    
    <footer>
        &copy; 2022 Admin Panel. Alle Rechte vorbehalten.
    </footer>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        $(document).ready(function () {
            $("#verwalten-link").click(function () {
                $.ajax({
                    url: "http://localhost:5000/nutzer",
                    type: "GET",
                    dataType: "json",
                    success: function (data) {
                        var table = $("#table-container");
                        table.empty();
                        table.append("<tr><th>ID</th><th>");
                        $.each(data, function (index, value) {
                            table.append("<tr><td>" + value.nutzer_id + "</td>");
                        });
                    },
                    error: function (xhr, status, error) {
                        console.log("Error: " + error);
                    }
                });
            });
        });
        </script>
    <script>
        $(document).ready(function () {
            $("#dashboard-link").click(function () {
                $.ajax({
                    url: "http://localhost:5000/database",
                    type: "GET",
                    dataType: "json",
                    success: function (data) {
                        var table = $("#table-container");
                        table.empty();
                        table.append("<tr><th>Nutzer_id</th><th>Station</th><th>Verbrauch</th><th>Datum</th></tr>")
                        $.each(data, function (index, value) {
                            table.append("<tr><td>" + value.nutzer_id + 
                                "</td><td>" + value.station + "</td><td>" + value.verbrauch + 
                                    "</td><td>" + value.date + "</td></tr>");
                            });
                    }
                });
            });
        });
        $(document).ready(function () {
            $("#einstellungen-link").click(function () {
                $.ajax({
                    url: "http://localhost:5000/nutzer",
                    type: "GET",
                    dataType: "json",
                    success: function (data) {
                        var table = $("#table-container");
                        table.empty();
                        table.append("<tr><th>ID</th><th>");
                        $.each(data, function (index, value) {
                            table.append("<tr><td>" + value.nutzer_id + "</td>");
                        });
                    },
                    error: function (xhr, status, error) {
                        console.log("Error: " + error);
                    }
                });
            });
        });
    </script>
</body>
</html>